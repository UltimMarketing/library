<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css"/>
<style type="text/css">
  #mc_embed_signup {
    background: #fff;
    clear: left;
    font: 14px Helvetica, Arial, sans-serif;
  }
</style>
</head>
<body>
<div id="mc_embed_signup">
  <form
    method="POST"
    id="mc-embedded-subscribe-form2"
    name="mc-embedded-subscribe-form2"
    class="validate"
    target="_blank"
    novalidate
    action="javascript:console.log(grecaptcha.getResponse(widgetId1));"
  >
    <div id="mc_embed_signup_scroll">
      <div class="mc-field-group">
        <input
          type="text"
          value=""
          name="FNAMEE"
          class="required"
          id="mce-FNAMEE"
          placeholder="Nombre"
          required
        />
      </div>
      <div class="mc-field-group size1of2">
        <input
          type="text"
          name="PHONEE"
          class="required"
          value=""
          id="mce-PHONEE"
          placeholder="Teléfono"
          required
        />
      </div>
      <div class="mc-field-group">
        <input
          type="email"
          value=""
          name="EMAILL"
          class="required email"
          id="mce-EMAILL"
          placeholder="Email"
          required
        />
      </div>
      <div class="mc-field-group">
        <input
          type="text"
          value=""
          name="STATEE"
          class="required"
          id="mce-STATEE"
          placeholder="Estado"
          required
        />
      </div>
      <div class="mc-field-group">
        <input
          type="text"
          value=""
          name="CITYY"
          class="required"
          id="mce-CITYY"
          placeholder="Ciudad"
          required
        />
      </div>
      <div class="mc-field-group">
        <input
          type="text"
          value=""
          name="MESSAGEE"
          class="required"
          id="mce-MESSAGEE"
          placeholder="Mensaje"
          required
        />
      </div>
      <div id="mce-responses" class="clear">
        <div
          class="response"
          id="mce-error-response"
          style="display: none"
        ></div>
        <div
          class="response"
          id="mce-success-response"
          style="display: none"
        ></div>
      </div>
      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <!--<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a93716d42f9a873d13ec42e2e_ae06f3a7ab" tabindex="-1" value=""></div>
      <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>-->
      <div style="position: absolute; left: -5000px" aria-hidden="true">
        <input
          type="text"
          name="6Lc5QF4oAAAAABA8cEb-_NKqKDoPRmZkMhfB39-B"
          tabindex="-1"
          value=""
        />
      </div>

      <!-- Aquí se agregará el reCAPTCHA -->
      <!-- <div
        class="g-recaptcha g-recaptcha1"
        data-sitekey="6Lc5QF4oAAAAABA8cEb-_NKqKDoPRmZkMhfB39-B"
      ></div> -->
      <div id="example1"></div>

      <div class="clear">
        <input
          type="submit"
          name="subscribe"
          id="mc-embedded-subscribe"
          class="button"
          value="getResponse"
        />
        <!--<button type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></button>-->
      </div>
    </div>
  </form>
</div>

<!--<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>-->
<script
  type="text/javascript"
  src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"
></script>
<script type="text/javascript">
  (function ($) {
    window.fnames = new Array();
    window.ftypes = new Array();
    fnames[0] = "EMAIL";
    ftypes[0] = "email";
    fnames[1] = "FNAME";
    ftypes[1] = "text";
    fnames[2] = "LNAME";
    ftypes[2] = "text";
    fnames[3] = "ADDRESS";
    ftypes[3] = "address";
    fnames[4] = "PHONE";
    ftypes[4] = "phone";
    fnames[5] = "BIRTHDAY";
    ftypes[5] = "birthday";
    fnames[6] = "STATE";
    ftypes[6] = "text";
    fnames[7] = "CITY";
    ftypes[7] = "text";
    fnames[8] = "MESSAGE";
    ftypes[8] = "text";
  })(jQuery);
  var $mcj = jQuery.noConflict(true);
</script>
<!--End mc_embed_signup-->

<script type="text/javascript">
  $("#mc-embedded-subscribe-form2").submit(function (e) {
    e.preventDefault();
    var control1 = true;
    var arr1 = $(".required");
    var formData1 = {
      FNAMEE: $("input[name=FNAMEE]").val(),
      PHONEE: $("input[name=PHONEE]").val(),
      EMAILL: $("input[name=EMAILL]").val(),
      STATEE: $("input[name=STATEE]").val(),
      CITYY: $("input[name=CITYY]").val(),
      MESSAGEE: $("input[name=MESSAGEE]").val(),
    };

    // const sitekey = document.querySelector('.g-recaptcha1').dataset.sitekey
    // console.log(sitekey)

    // Validar reCAPTCHA
    
    const recaptchaResponse1 = grecaptcha.getResponse(widgetId1);

    if (recaptchaResponse1 === "") {
      alert("Por favor, completa el reCAPTCHA");
    } else {
        console.log('Todo bien')
    }

    if (arr1.length > 0) {
      for (i = 0; i < arr1.length; i++) {
        if (arr1[i].value === "" || arr1[i].value === null) {
          alert("Por favor llene todos los campos");
          control1 = false;
          break;
        }
      }
    }

    if (control1) {
      $.post(
        "https://hooks.zapier.com/hooks/catch/463986/bg1ftes/",
        formData1,
        function (data) {
          if (data.status == "success") {
            window.location = "https://castanlecca.com/gracias/";
          } else {
            console.log(data.status);
          }
        }
      );
      return false;
    }

  });
</script>
</body>
</html>